NS-OCP-013 — RUNBOOK

0. Document Control

Program: Northfield Solidarity (NS)

Engine: OCP — Onchain Compute Plane

Document ID: NS-OCP-013-RUNBOOK

Status: Draft v1

Depends On: NS-OCP-003-ARCHITECTURE, NS-OCP-004-LIFECYCLE, NS-OCP-010-FE, NS-OCP-012-STATE

Owner: OCP Ops Lead (TBD)

1. Purpose

This runbook defines operational procedures for OCP systems across:

releases and deployments

monitoring and alert triage

emergency containment (pause)

upgrades/migrations

incident management and postmortems

OCP runbooks are mandatory artifacts for Medium+ systems and non-negotiable for High/Critical.

2. Roles & Responsibilities

2.1 On-Call Roles

OCP Operator (ChainOps): executes release procedures, monitors systems

OCP Security: leads security triage, approves containment actions when needed

OCP Engineer: provides code-level support, prepares patches

Governance Duty (GGP/GGE): approvals for production and waivers

Comms Owner (optional): stakeholder communications during incidents

2.2 Separation of Duties

Operator ≠ Approver for PROD changes

Deployment signer is custody-controlled; no single-person authority for High/Critical

3. Operational Tooling (Canonical)

OCP Registry: source of truth for deployments, authority sets, runbooks

Release Orchestrator: pipeline/runner for deploys and upgrades

Dashboards: system health, tx failure rates, indexer lag

Alerting: SIG-driven alerts with severity routing

Chain Explorer: verification and transaction inspection

4. Standard Operating Procedures (SOPs)

SOP-1: Create a Release (DEV/TEST/PROD)

Trigger: new deploy/upgrade planned.

Steps:

Confirm system risk class in Registry.

Generate Release Manifest:

target networks + environments

contract versions + artifact set IDs

config digest

Run Policy Gates evaluation.

Attach evidence:

threat model approval

analysis reports

audit report (if required)

runbook link

If PROD or High/Critical: request governance approval.

Exit Criteria:

Release state is APPROVED (or GATED for non-approval releases)

SOP-2: Execute a Deployment (PROD)

Trigger: approved release ready to execute.

Pre-flight Checklist:



Steps:

Start execution via Release Orchestrator.

Confirm custody signing request reaches multisig/MPC.

Verify transaction submission and confirmation.

Validate deployed addresses against manifest.

Write deployment record to Registry.

Confirm dashboards show live telemetry.

Announce release completion internally.

Exit Criteria:

Release state → SUCCEEDED

Deployment state → ACTIVE

Registry and monitoring updated

SOP-3: Post-Deploy Validation

Trigger: deployment completed.

Steps:

Verify:

bytecode/ABI matches artifact digest expectations

ownership/roles configured as specified

Run smoke tests:

read-only calls

minimal transaction path on TEST (or controlled action on PROD if safe)

Confirm indexer ingestion.

Confirm SIG alert routes are green.

Exit Criteria:

Validation report attached to Release.

SOP-4: Routine Monitoring

Frequency: continuous.

Key Signals:

tx failure/revert spike

privileged action events (role changes, pause, parameter changes)

unusual value movement

indexer lag / query errors

RPC degradation

Steps:

Check dashboard overview.

Investigate any WARN/ALERT signals.

If suspicious privileged action occurs:

correlate identity attribution (IDN)

verify approval records (GGP/GGE)

Escalate per severity matrix.

SOP-5: Emergency Pause (Containment)

Trigger: suspected exploit, unauthorized behavior, severe anomaly.

Decision Rule:

For High/Critical systems: if credible risk of loss, pause first, then analyze.

Steps:

Open incident record (S1/S2 as appropriate).

Confirm guardian authority holder(s).

Execute pause() via custody-approved path.

Confirm on-chain state is paused.

Announce containment action + current status.

Preserve evidence: tx hashes, logs, alert snapshots.

Exit Criteria:

Deployment state → PAUSED

Incident state → MITIGATING

SOP-6: Unpause / Restore

Trigger: containment complete and recovery plan validated.

Prerequisites:

root cause identified or risk sufficiently mitigated

governance approval if policy requires

monitoring is in heightened mode

Steps:

Confirm unpause authority requirements (admin/timelock).

Execute unpause via governed path.

Validate normal operation.

Update incident timeline.

Exit Criteria:

Deployment state → ACTIVE

Incident state progresses to RECOVERING/RESOLVED

SOP-7: Upgrade Execution (Timelock/Multi-step)

Trigger: approved upgrade/migration.

Steps (Proxy Upgrade Example):

Rehearse upgrade on TEST.

Confirm upgrade package + artifact set.

Schedule timelock transaction (if required).

After delay, execute upgrade.

Post-upgrade validation:

storage layout sanity checks (if applicable)

functional smoke tests

event/monitoring behavior

Write UPGRADE_EVENT + registry update.

Exit Criteria:

Upgrade record created

Deployment remains ACTIVE and validated

SOP-8: Rollback / Migration (If Needed)

Trigger: deployment causes unacceptable risk or breakage.

Rollback options:

revert to prior implementation (if upgradeable)

disable specific features (if supported)

migrate to new deployment

keep paused until fix is deployed

Steps:

Contain first if risk exists.

Select rollback strategy consistent with governance.

Execute rollback/migration under custody.

Validate and update registry.

5. Incident Management

5.1 Severity Matrix

S1: active loss / high likelihood of loss; immediate containment

S2: major degradation / contained security risk; urgent

S3: moderate issue; fix planned

S4: minor issue; track

5.2 Incident Workflow

OPEN

TRIAGING

MITIGATING

RECOVERING

RESOLVED

POSTMORTEM_PENDING → POSTMORTEMED

5.3 Required Incident Artifacts

incident timeline

affected deployments and tx hashes

containment actions and approvals

lessons learned

controls updated (policy/gates/runbooks)

6. Communications

6.1 Internal Updates (Minimum)

what happened

what systems are affected

what containment actions were taken

current status and next update time

6.2 External Updates (If Applicable)

Only if the product is user-facing and requires disclosure.

confirm facts only

provide mitigations and timelines

avoid speculative statements

7. Postmortems

7.1 When Required

all S1/S2 incidents

any incident on Critical systems

any repeated S3 incidents indicating systemic issues

7.2 Postmortem Template

summary

impact

root cause

detection and response timeline

what went well / what didn’t

corrective actions (policy, code, monitoring)

follow-ups with owners and deadlines

8. Checklists (Quick Reference)

8.1 PROD Release Checklist



8.2 Incident Containment Checklist



9. Next Document

NS-OCP-014 — DATADEF (data definitions: canonical fields, enums, schemas, examples)

