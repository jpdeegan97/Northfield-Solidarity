Product InsightIQ Engine (PIE)
1. Purpose of This Document
This document defines the canonical data definitions for the Product InsightIQ Engine (PIE).
It provides:
Field-level schemas for authoritative PIE entities
Explicit meanings, constraints, and invariants
Cross-engine contract clarity (SIG, DRE, GGP, SIM, DAT, PTE)
This document is the single source of truth for PIE data semantics.
2. Data Definition Principles
Canonical First — Definitions here override inferred meanings elsewhere
Append-Only Semantics — Historical truth is never overwritten
Version Awareness — Most entities bind to (insight_id, insight_version)
Reference, Don’t Duplicate — External objects are referenced by ID
Explainability — Fields must support audit and human interpretation
3. Identifier Conventions
insight_id: Stable UUID identifying an Insight across versions
insight_version: Monotonic integer identifying semantic versions
correlation_id: UUID for tracing events and API calls
*_id: Stable identifiers for sub-entities
4. Canonical Entity Definitions (Authoritative)
4.1 Insight
Entity: insight



Field

Type

Required

Description


insight_id

UUID

Yes

Stable Insight identifier


insight_version

Integer

Yes

Semantic version


insight_type

String

Yes

Classification of insight


opportunity_statement

Text

Yes

Human-readable claim


status

Enum

Yes

proposed / under_review / approved / rejected / expired


created_at

Timestamp

Yes

Version creation time


updated_at

Timestamp

Yes

Last update time
Constraints:
(insight_id, insight_version) is unique
4.2 Evidence Bundle
Entity: evidence_bundle



Field

Type

Required

Description


bundle_id

UUID

Yes

Evidence bundle identifier


insight_id

UUID

Yes

Parent Insight


insight_version

Integer

Yes

Parent version


created_at

Timestamp

Yes

Bundle creation time
4.3 Evidence Item
Entity: evidence_item



Field

Type

Required

Description


item_id

UUID

Yes

Evidence item identifier


bundle_id

UUID

Yes

Parent bundle


evidence_type

Enum

Yes

signal_ref / research_artifact


ref_id

UUID

Yes

External reference ID


trust_score

Float

No

Signal trust score (if applicable)


captured_at

Timestamp

Yes

When evidence was captured
4.4 Scoring Result
Entity: scoring_result



Field

Type

Required

Description


score_id

UUID

Yes

Score record identifier


insight_id

UUID

Yes

Parent Insight


insight_version

Integer

Yes

Parent version


scoring_model_id

String

Yes

Scoring model identifier


scoring_model_version

String

Yes

Scoring model version


confidence_score

Float

Yes

Confidence (0..1)


score_breakdown

JSON

Yes

Feature-level contributions


scored_at

Timestamp

Yes

Scoring time
4.5 Risk Profile
Entity: risk_profile



Field

Type

Required

Description


risk_id

UUID

Yes

Risk record identifier


insight_id

UUID

Yes

Parent Insight


insight_version

Integer

Yes

Parent version


risk_band

Enum

Yes

low / medium / high


risk_flags

JSON

Yes

Structured risk flags


risk_notes

Text

No

Human notes


assessed_at

Timestamp

Yes

Risk assessment time
4.6 Decay Model
Entity: decay_model



Field

Type

Required

Description


decay_id

UUID

Yes

Decay model identifier


insight_id

UUID

Yes

Parent Insight


insight_version

Integer

Yes

Parent version


relevance_window_start

Timestamp

Yes

Start of relevance


relevance_window_end

Timestamp

Yes

End of relevance


decay_type

Enum

Yes

time / event / signal


decay_params

JSON

Yes

Decay configuration
4.7 Narrative
Entity: narrative



Field

Type

Required

Description


narrative_id

UUID

Yes

Narrative identifier


insight_id

UUID

Yes

Parent Insight


insight_version

Integer

Yes

Parent version


summary

Text

Yes

High-level summary


rationale

Text

Yes

Detailed explanation


counter_signals

Text

No

Counter-evidence summary


generated_at

Timestamp

Yes

Generation time
4.8 Decision Context
Entity: decision_context



Field

Type

Required

Description


decision_id

UUID

Yes

Decision context identifier


insight_id

UUID

Yes

Parent Insight


insight_version

Integer

Yes

Parent version


scoring_model_version

String

Yes

Model version used


confidence_score

Float

Yes

Snapshot confidence


risk_band

Enum

Yes

Snapshot risk


decay_state

Enum

Yes

fresh / aging / stale


evidence_bundle_id

UUID

Yes

Evidence snapshot


evaluated_at

Timestamp

Yes

Evaluation time
4.9 Insight State Transition
Entity: insight_state_transition



Field

Type

Required

Description


transition_id

UUID

Yes

Transition identifier


insight_id

UUID

Yes

Insight


from_status

Enum

Yes

Prior state


to_status

Enum

Yes

New state


actor_type

Enum

Yes

system / governance / human


actor_id

String

No

Actor identifier


correlation_id

UUID

Yes

Trace ID


occurred_at

Timestamp

Yes

Transition time
5. Derived Read Model Definitions (Non-Authoritative)
5.1 Insight Ranking
Entity: insight_ranking



Field

Type

Description


ranking_id

UUID

Identifier


insight_id

UUID

Insight


insight_version

Integer

Version


rank

Integer

Rank position


ranking_score

Float

Composite score


computed_at

Timestamp

Computation time
5.2 Search Document
Entity: insight_search_doc



Field

Type

Description


insight_id

UUID

Insight


current_version

Integer

Version


searchable_text

Text

Indexed content


tags

Array

Search tags


updated_at

Timestamp

Last update
6. Cross-Engine Reference Contracts
PIE references external engines strictly by ID:
SIG: sig.signal_id
DRE: dre.artifact_id
GGP: ggp.decision_id
SIM: sim.scenario_id (optional)
PTE: pte.portfolio_item_id
No external schemas are duplicated.
7. Invariants & Validation Rules
Evidence must exist before scoring
Decision Contexts are immutable
State transitions are append-only
Expired or rejected insights cannot be promoted
All timestamps are UTC
8. Document Position in PIE Corpus
This DATADEF document completes the PIE documentation set.
It is informed by:
NS-PIE-007 — DATAMODEL
NS-PIE-012 — STATE
NS-PIE-013 — RUNBOOK
9. Version Control



Version

Date

Description

Approved By


0.1

TBD

Initial PIE Canonical Data Definitions

Parent / HoldCo Manager
Status: Draft